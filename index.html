<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Structural Notes Hub ‚Äì General Notes Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #f5f5f7;
      --card-bg: #ffffff;
      --border: #d0d0d5;
      --accent: #1f6feb;
      --accent-soft: rgba(31, 111, 235, 0.08);
      --text-main: #111827;
      --text-muted: #4b5563;
      --danger: #b91c1c;
      --radius-lg: 16px;
      --radius-md: 10px;
      --shadow-soft: 0 14px 30px rgba(15, 23, 42, 0.08);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #e5edff 0, #f5f5f7 55%);
      color: var(--text-main);
    }

    .app {
      max-width: 980px;
      margin: 0 auto;
      padding: 2.5rem 1rem 3rem;
    }

    /* Top navigation shared across tools */
    .top-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
      padding: 0.5rem 0.75rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.03);
      border: 1px solid rgba(148, 163, 184, 0.4);
    }

    .top-nav a {
      font-size: 0.85rem;
      padding: 0.35rem 0.85rem;
      border-radius: 999px;
      text-decoration: none;
      color: #111827;
      background: #ffffff;
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .top-nav a:hover {
      background: #e5edff;
      border-color: #1f6feb;
    }

    .top-nav a.current {
      background: #1f6feb;
      color: #ffffff;
      border-color: #1f6feb;
    }

    header {
      margin-bottom: 1.75rem;
      text-align: left;
    }

    header h1 {
      margin: 0 0 0.35rem;
      font-size: 1.9rem;
      letter-spacing: 0.03em;
    }

    header p {
      margin: 0;
      color: var(--text-muted);
      max-width: 720px;
      font-size: 0.95rem;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 1.4rem 1.5rem 1.7rem;
      margin-bottom: 1.4rem;
      border: 1px solid rgba(148,163,184,0.3);
    }

    .card h2 {
      margin: 0 0 0.7rem;
      font-size: 1.2rem;
    }

    .sub {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin: 0 0 0.6rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
      gap: 0.6rem 1rem;
      margin-top: 0.4rem;
    }

    .field {
      display: flex;
      flex-direction: column;
      font-size: 0.85rem;
    }

    .field label {
      margin-bottom: 0.14rem;
      color: var(--text-muted);
    }

    .field input,
    .field select {
      padding: 0.35rem 0.45rem;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      font-size: 0.85rem;
    }

    .field input:focus,
    .field select:focus {
      outline: 2px solid var(--accent);
      outline-offset: 1px;
      background: #ffffff;
    }

    .section-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 0.5rem 0.75rem;
      margin-top: 0.5rem;
    }

    .section-pill {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(255, 255, 255, 0.9);
      font-size: 0.83rem;
      color: var(--text-muted);
    }

    .section-pill input {
      transform: scale(0.95);
    }

    .section-pill span {
      flex: 1;
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.65rem;
      margin-top: 0.9rem;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 0.55rem 1.15rem;
      font-size: 0.92rem;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      white-space: nowrap;
    }

    button.primary {
      background: var(--accent);
      color: #ffffff;
      box-shadow: 0 10px 18px rgba(31,111,235,0.35);
    }

    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }

    button:active {
      transform: translateY(1px);
      box-shadow: none;
    }

    textarea {
      width: 100%;
      min-height: 360px;
      font-family: "SF Mono", ui-monospace, Menlo, Consolas, monospace;
      font-size: 0.86rem;
      line-height: 1.5;
      padding: 0.9rem;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: #0f172a;
      color: #e5e7eb;
      box-shadow: inset 0 0 0 1px rgba(15,23,42,0.8);
      resize: vertical;
    }

    textarea:focus {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .copy-status {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 0.35rem;
      min-height: 1em;
    }

    .copy-status.success { color: #059669; }
    .copy-status.error { color: var(--danger); }

    footer {
      margin-top: 1rem;
      font-size: 0.8rem;
      color: var(--text-muted);
      text-align: right;
    }

    @media (max-width: 640px) {
      .app { padding-inline: 0.8rem; }
      header h1 { font-size: 1.6rem; }
      button.primary,
      button.secondary {
        flex: 1 1 auto;
        justify-content: center;
      }
      textarea {
        min-height: 260px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Shared navigation between tools -->
    <nav class="top-nav">
      <a href="index.html" class="current">General Notes</a>
      <a href="seismic.html">Seismic Helper</a>
      <a href="wind.html">Wind Helper</a>
    </nav>

    <header>
      <h1>Structural Notes Hub ‚Äì General Notes Builder</h1>
      <p>
        Build project-specific structural general notes from your master template. Toggle material sections on/off,
        drop in basic project data, then copy into your GSN sheet.
      </p>
    </header>

    <!-- 1: PROJECT & CODE -->
    <section class="card">
      <h2>1. Project &amp; Code</h2>
      <p class="sub">These fields feed into the opening paragraphs of the notes.</p>
      <div class="grid">
        <div class="field">
          <label for="projName">Project name</label>
          <input id="projName" type="text" placeholder="e.g. Tomlinson House" />
        </div>
        <div class="field">
          <label for="projNumber">Project number</label>
          <input id="projNumber" type="text" placeholder="e.g. P-2025-001" />
        </div>
        <div class="field">
          <label for="codeYear">Adopted building code</label>
          <input id="codeYear" type="text" placeholder="e.g. IBC 2024 with local amendments" />
        </div>
        <div class="field">
          <label for="asceEdition">Loading standard (ASCE 7)</label>
          <select id="asceEdition">
            <option value="">(select)</option>
            <option value="ASCE 7-10">ASCE 7-10</option>
            <option value="ASCE 7-16">ASCE 7-16</option>
            <option value="ASCE 7-22">ASCE 7-22</option>
          </select>
        </div>
        <div class="field">
          <label for="riskCat">Risk category</label>
          <select id="riskCat">
            <option value="">(select)</option>
            <option value="I">I</option>
            <option value="II">II</option>
            <option value="III">III</option>
            <option value="IV">IV</option>
          </select>
        </div>
      </div>
    </section>

    <!-- 2: SECTION TOGGLES -->
    <section class="card">
      <h2>2. Included note sections</h2>
      <p class="sub">
        Check only the materials and topics that apply to this project. The builder will stitch selected sections into one clean block.
      </p>
      <div class="section-grid">
        <label class="section-pill">
          <input type="checkbox" id="secA" checked />
          <span>A. General requirements &amp; governing documents</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secB" checked />
          <span>B. Codes, standards, and design criteria</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secC" checked />
          <span>C. Quality assurance, testing, &amp; special inspections</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secD" checked />
          <span>D. Geotechnical information, earthwork, &amp; foundations</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secE" checked />
          <span>E. Cast-in-place concrete</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secF" checked />
          <span>F. Structural masonry</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secG" checked />
          <span>G. Structural steel</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secH" checked />
          <span>H. Metal deck &amp; cold-formed steel framing</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secI" checked />
          <span>I. Wood and mass timber framing</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secJ" checked />
          <span>J. Submittals and delegated design items</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secK" checked />
          <span>K. Construction loads, temporary conditions, &amp; coordination</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secL" checked />
          <span>L. Wind design criteria (generic or from wind helper)</span>
        </label>
        <label class="section-pill">
          <input type="checkbox" id="secM" checked />
          <span>M. Seismic design criteria (generic or from seismic helper)</span>
        </label>
      </div>

      <div class="button-row">
        <button class="secondary" type="button" id="btnSelectAll">Select all</button>
        <button class="secondary" type="button" id="btnClearAll">Clear all</button>
        <button class="primary" type="button" id="btnBuildNotes">üìù Build general notes</button>
      </div>
    </section>

    <!-- 3: OUTPUT -->
    <section class="card">
      <h2>3. General notes output</h2>
      <p class="sub">
        Paste this into your general notes sheet and tweak project-specific values (snow, wind, seismic, etc.) as needed.
      </p>
      <textarea id="notesOutput" readonly></textarea>
      <div class="button-row">
        <button class="secondary" type="button" id="btnCopyNotes">üìã Copy notes to clipboard</button>
      </div>
      <div id="copyStatus" class="copy-status" aria-live="polite"></div>
    </section>

    <footer>
      Structural Notes Hub ‚Äì Build project-specific general notes from your master template.
    </footer>
  </div>

  <script>
    function str(id) {
      return (document.getElementById(id).value || "").trim();
    }

    function copyTextFrom(id, statusId) {
      var el = document.getElementById(id);
      var status = document.getElementById(statusId);
      var text = el.value || "";

      if (!text.trim()) {
        status.textContent = "Nothing to copy. Build the notes first.";
        status.className = "copy-status error";
        return;
      }

      try {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(text);
        } else {
          el.focus();
          el.select();
          document.execCommand("copy");
        }
        status.textContent = "Notes copied. Paste into your general notes sheet and edit as needed.";
        status.className = "copy-status success";
      } catch (e) {
        status.textContent = "Could not copy automatically. Select the text and copy manually (Ctrl+C / Cmd+C).";
        status.className = "copy-status error";
      }
    }

    // ---- SECTION TEXT TEMPLATES ----
    function buildSectionA() {
      return `A. GENERAL REQUIREMENTS & GOVERNING DOCUMENTS

These Structural Drawings are part of the Contract Documents and shall be used in conjunction with the Architectural, Civil, Mechanical, Electrical, Plumbing, Fire Protection, and Project Manual/Specifications. Where discrepancies exist between disciplines, notify the Structural Engineer of Record (SER) for clarification prior to proceeding with the affected work. Do not scale drawings.

The Contractor shall verify all existing conditions, dimensions, and elevations in the field prior to fabrication or construction. Conflicting, missing, or unclear information shall be brought to the attention of the SER before work proceeds.

These drawings depict the completed structure only. The Contractor is solely responsible for all means, methods, techniques, sequences, procedures, temporary supports, shoring, bracing, construction loads, and safety measures required to complete the Work in accordance with the Contract Documents and governing safety regulations.

Field modifications to structural members, connections, reinforcing, or specified details are not permitted without prior written approval from the SER. Cutting, notching, drilling, or burning of structural members shall be performed only where shown on the drawings or specifically approved in writing by the SER.

Written approval from the Owner‚Äôs representative and SER is required for any proposed change that may affect structural performance, including substitutions, value engineering changes, or re-use of existing members beyond what is shown on the drawings.

Shop drawing, submittal, and RFI responses by the SER are for general conformance with design intent and are not a substitute for the Contractor‚Äôs responsibility to coordinate, verify dimensions, and ensure constructability.

Where typical details and general notes appear on these drawings, they apply to all similar conditions, whether or not indicated at each location, unless specifically noted otherwise (UNO).

Coordinate openings, sleeves, blockouts, and embedded items required by other trades with structural framing and reinforcing shown on the drawings. Penetrations not shown shall be located and detailed in coordination with the SER before installation.

All work shall comply with applicable Federal, State, and local safety regulations (including OSHA) and the Owner‚Äôs safety policies. The Contractor is responsible for jobsite safety and for protecting adjacent structures, utilities, and the public.`;
    }

    function buildSectionB(ctx) {
      var code = ctx.codeYear || "[ADOPTED BUILDING CODE]";
      var asce = ctx.asceEdition || "ASCE 7-[YEAR]";
      var risk = ctx.riskCat || "[I/II/III/IV]";

      return `B. CODES, STANDARDS, AND DESIGN CRITERIA

Design Code: The structure has been designed in accordance with ${code} as amended by the local jurisdiction. The Contractor shall comply with all additional applicable codes and ordinances.

Loading Standard: Gravity and lateral loads are determined in accordance with ${asce}, "Minimum Design Loads and Associated Criteria for Buildings and Other Structures," unless noted otherwise.

Material Standards: Structural materials and construction shall conform to the reference standards listed in these notes, including but not limited to: ACI 318 and ACI 301 (concrete), TMS 402/602 (masonry), AISC 360 and AISC 303 (structural steel), AISC 341 (seismic steel, where applicable), AISI S100 (cold-formed steel), NDS and SDPWS (wood), SDI (metal deck), and other standards cited under each material section.

Risk Category: The building is assigned to Risk Category ${risk} in accordance with the adopted building code and ASCE 7.

Occupancy and Use: The structural design is based on the occupancies and use groups indicated on the Architectural drawings and in the Code Summary. Any change in occupancy or use that increases design loads shall be reviewed by the SER.

Floor Live Loads (Unreduced): Provide a live load schedule on the drawings listing minimum design live loads for each occupancy and area (psf or kips as applicable) in accordance with IBC Section 1603.1.1. These values shall not be reduced in the field without written approval from the SER.

Roof Live Load: Design roof live load is [LLr = ___ psf] in accordance with IBC/ASCE 7. Where a separate roof live load is not required, note as N/A but indicate roof maintenance/occupancy assumptions on the drawings.

Snow Loads: Ground snow load Pg = [___ psf]. Flat roof snow load and related parameters shall be indicated on the drawings, including exposure factor Ce, thermal factor Ct, importance factor Is, and minimum uniform roof snow load, in accordance with IBC Section 1603.1 and ASCE 7.

Wind Loads: Ultimate design wind speed Vult = [___ mph]; corresponding nominal wind speed Vasd = [___ mph] if used. Exposure category = [B/C/D]; risk category = ${risk || "[I/II/III/IV]"}; internal pressure coefficient GCpi = [¬±___]. Indicate enclosure classification (enclosed, partially enclosed, or open) and topographic factor Kzt where required.

Seismic Design Data (per IBC 1603.1 and ASCE 7 Chapter 11): Mapped spectral accelerations SS and S1; Site Class; design spectral accelerations SDS and SD1; Seismic Design Category (SDC); basic seismic force-resisting system(s) for each principal direction; response modification factor R; redundancy factor œÅ; seismic response coefficient Cs; design base shear V; and analysis procedure used (e.g., Equivalent Lateral Force, Modal Response Spectrum).

Flood Design Data: For structures in flood hazard areas, indicate flood design class, flood hazard zone, design flood elevation (DFE), and any flood-resistant construction criteria used. For sites outside mapped flood hazard areas, indicate "Not in a Special Flood Hazard Area" or similar language based on the civil/architectural code summary.

Soils and Foundations: Indicate the allowable bearing pressures, lateral earth pressures, friction coefficients, and other design soil parameters taken from the Geotechnical Report used for design. Reference the report title, author, and date. Where a geotechnical report is not provided, document the presumptive values and limitations used in design.

Deflection and Drift Criteria: Structural systems and members are designed to satisfy applicable deflection and story drift limits per IBC, ASCE 7, and material standards (e.g., L/240, L/360, L/480, H/400, etc.). Project-specific limits, especially for sensitive finishes, cladding, or equipment, shall be indicated on the drawings or in the specifications.`;
    }

    function buildSectionC() {
      return `C. QUALITY ASSURANCE, TESTING, AND SPECIAL INSPECTIONS

Special Inspections and Structural Tests shall be provided in accordance with IBC Chapter 17, the adopted building code, and the Statement of Special Inspections (SSI) prepared by the Registered Design Professional in Responsible Charge (RDPiRC) and approved by the building official.

The Statement of Special Inspections and associated schedules (for steel, concrete, masonry, wood, soils, deep foundations, sprayed fire-resistive materials, fire-resistant penetrations, and other items) shall be included in the construction documents or submitted separately to the building official, as required by the jurisdiction.

The Owner shall engage independent testing and inspection agencies, acceptable to the building official and SER, to perform the required tests and special inspections. These agencies shall not be employed by the Contractor or any subcontractor responsible for the Work being inspected.

The Contractor shall notify the testing and inspection agencies in advance of all work requiring special inspection or testing and shall provide safe access to the work and the approved construction documents for reference.

Nonconforming work or test results shall be reported by the special inspector to the Contractor and SER. Correct nonconforming work prior to concealing or proceeding with work that depends on it. The SER shall be consulted regarding any required remedial measures.

A Final Report of Special Inspections, sealed by the RDPiRC or as required by the building official, shall be submitted at completion of construction to document that all required inspections and tests have been performed and that nonconforming items have been resolved.

Observation of construction by the SER or their representatives is for general conformance with the design intent and does not constitute continuous inspection, special inspection, or supervision of the Contractor‚Äôs means and methods.

Field test and inspection reports shall be distributed to the Owner, Contractor, SER, and building official (where required) in a timely manner and maintained at the jobsite for review.`;
    }

    function buildSectionD() {
      return `D. GEOTECHNICAL INFORMATION, EARTHWORK, AND FOUNDATIONS

Foundations are designed based on the site-specific Geotechnical Report prepared by [Geotechnical Engineer], Report No. [___], dated [___]. The Contractor shall review and comply with all recommendations therein related to excavation, fill, compaction, groundwater control, and foundation construction.

Allowable net bearing pressure for spread footings and mats: [___ psf] on [undisturbed native soil / compacted structural fill] unless noted otherwise. Do not exceed the allowable bearing pressure without written approval from the SER and Geotechnical Engineer.

Presumptive or design lateral earth pressures (equivalent fluid weights), friction factors, and coefficients of sliding used for design of retaining structures and foundations shall be listed on the drawings (active, at-rest, passive, seismic), consistent with the Geotechnical Report.

Minimum frost depth: [___ inches] below finished exterior grade for foundations supporting heated construction, or as required by the local code, whichever is more stringent.

Subgrade preparation: Strip topsoil, organics, debris, loose, soft, saturated, expansive, or otherwise unsuitable material from all foundation and slab support areas. Proof-roll subgrades and replace unsuitable material with compacted structural fill in accordance with the Geotechnical Report.

Structural fill beneath foundations and slabs-on-grade shall comply with the gradation, plasticity, and compaction criteria in the Geotechnical Report. Compact structural fill to the specified percentage of maximum dry density (e.g., ‚â•95% for foundations, ‚â•92% for slabs) based on Modified Proctor (ASTM D1557) or as required by the Geotechnical Engineer.

Protect exposed subgrades and excavations from disturbance due to freeze-thaw, precipitation, and construction traffic. Remove standing water from excavations prior to placing fill or concrete and provide dewatering measures as recommended by the Geotechnical Engineer.

Foundation types (spread footings, thickened slabs, grade beams, piers, piles, helical anchors, etc.) and design assumptions shall be indicated on the drawings. The Contractor shall not change foundation type or elevation without approval from the SER and Geotechnical Engineer.

Bottom of exterior footing elevations shall be at or below the code-required frost depth unless otherwise justified by the Geotechnical Engineer and approved by the building official.

Retaining walls, basement walls, and other earth-retaining structures shall be backfilled with suitable materials and drained per the Geotechnical Report and structural details. Do not place backfill against walls until concrete has achieved sufficient strength and required structural bracing is in place.`;
    }

    function buildSectionE() {
      return `E. CAST-IN-PLACE CONCRETE

Concrete design and construction shall conform to ACI 318, "Building Code Requirements for Structural Concrete," and ACI 301, "Specifications for Structural Concrete," as modified by the adopted building code and these notes.

Concrete compressive strengths at 28 days, f'c, shall be as indicated on the drawings (e.g., foundations, slabs-on-grade, elevated slabs, walls, beams, columns, toppings). Provide a concrete mix schedule identifying strength, maximum aggregate size, slump, air content, and admixtures for each mix.

Reinforcing bars shall conform to ASTM A615 Grade 60 or ASTM A706 low-alloy Grade 60 where welding or ductile detailing is required. Welded wire reinforcement (WWR) shall conform to ASTM A1064. Provide reinforcement sizes and spacing as shown on the drawings.

Provide minimum concrete cover to reinforcement in accordance with ACI 318 and exposure conditions (e.g., 3" at cast-in-place concrete cast against and permanently exposed to earth, 2" at formed surfaces exposed to earth or weather, etc.), unless a greater cover is indicated on the drawings.

Lap splices, development lengths, and anchorage of reinforcing shall comply with ACI 318 and project-specific bar schedules. Do not splice bars at locations other than indicated without SER approval.

Concrete placement, consolidation, finishing, and curing shall follow ACI 301 and ACI 302 recommendations. Avoid re-tempering concrete with water. Coordinate finishing requirements (trowel, broom, surface hardener) with Architectural documents.

Construction joints and contraction joints in slabs-on-grade and elevated slabs shall be located as shown on the drawings or, where not shown, shall be submitted to the SER for review prior to placement. Dowel and keyway details shall match the design intent.

Embedments, anchor bolts, sleeves, and blockouts shall be accurately located and secured prior to placement of concrete. Coordinate embedded items required by other trades with structural reinforcing and concrete placement sequences.

Post-installed anchors in hardened concrete shall conform to the approved evaluation reports (e.g., ICC-ES), be installed by qualified personnel, and be used only within the limits of their tested and approved load capacities. Adhesive anchors in sustained-tension or seismic applications shall comply with ACI 318 requirements for cracked concrete and qualified installers, where applicable.

Do not overload slabs, beams, or shoring with construction loads (e.g., material stockpiles, equipment) beyond the capacity of the partially completed structure. Shore and reshoring shall be designed by the Contractor where required.`;
    }

    function buildSectionF() {
      return `F. STRUCTURAL MASONRY

Structural masonry design shall conform to TMS 402, "Building Code Requirements for Masonry Structures," and masonry construction shall conform to TMS 602, "Specification for Masonry Structures," as adopted by the governing building code.

Concrete masonry units (CMU) shall conform to ASTM C90 (loadbearing units) unless otherwise specified. Clay masonry units shall conform to the applicable ASTM standards (e.g., ASTM C652, C216) as noted on the drawings or in the specifications.

Mortar for masonry construction shall conform to ASTM C270, of type indicated on the drawings (e.g., Type S or N for above-grade, Type M where high-strength or severe exposure is required). Grout shall conform to ASTM C476.

Specified masonry compressive strength, f'm, shall be as indicated on the drawings. The method used to verify f'm (unit strength method versus prism testing) shall be stated in the project documents and coordinated with the testing and inspection agency.

Reinforcing bars in masonry shall conform to ASTM A615 Grade 60 or ASTM A706 Grade 60 where required for welding or ductile detailing. Bar sizes, spacing, and lap lengths shall be as shown on the drawings and shall follow TMS 402 development and splice provisions.

Unless noted otherwise, provide fully grouted cells at reinforced masonry cells, jambs, piers, bond beams, and at other locations shown on the drawings. Construction of grout lifts, cleanouts, and consolidation shall comply with TMS 602 requirements.

Provide minimum masonry cover to reinforcing and minimum grout space dimensions compatible with the specified bar sizes and consolidation methods. Where congestion occurs, adjust bar placement only as approved by the SER.

Masonry quality assurance, inspection, and testing shall follow the Verification and Inspection Tables in TMS 602 for the QA level (e.g., Level B or C) selected for the project. Coordinate these requirements with the Statement of Special Inspections and the testing agency.

Control joints, expansion joints, and movement joints in masonry shall be located and detailed as shown on the drawings. Where joint locations must be adjusted to suit architectural features or field conditions, submit proposed revisions to the SER for review.

Anchorage of masonry veneers, ties to backup walls, and out-of-plane bracing of tall masonry walls shall be provided as indicated on the drawings and coordinated with architectural and structural details.`;
    }

    function buildSectionG() {
      return `G. STRUCTURAL STEEL

Structural steel design shall conform to AISC 360, "Specification for Structural Steel Buildings," and detailing and fabrication shall conform to AISC 303, "Code of Standard Practice for Steel Buildings and Bridges." Where applicable, seismic-force-resisting systems shall conform to AISC 341 and AISC 358.

Unless noted otherwise on the drawings or in the specifications, structural steel materials shall conform to the following minimum standards:
    a. Wide-flange shapes: ASTM A992
    b. Steel plates, shapes, and bars: ASTM A36 or ASTM A572 (grade as indicated)
    c. Hollow Structural Sections (HSS): ASTM A500 Grade C
    d. Steel pipe: ASTM A53 Grade B
    e. Anchor rods: ASTM F1554 Grade [36/55/105] with weldability supplement as required

Bolts for primary structural connections shall conform to ASTM F3125 (e.g., Grades A325 or A490), with nuts conforming to ASTM A563 and washers to ASTM F436, unless noted otherwise. Use pretensioned or slip-critical joints only where indicated on the drawings or required by design.

All welding shall conform to AWS D1.1 (structural steel) and AWS D1.3 (cold-formed steel) as applicable. Use low-hydrogen electrodes with minimum tensile strength of 70 ksi (E70XX) unless otherwise stated. Welders and welding procedures shall be qualified in accordance with AWS standards.

Fabricator‚Äôs Connection Design: Unless otherwise noted on the drawings, the steel fabricator‚Äôs licensed Professional Engineer shall design and detail connections in accordance with AISC standards to support the factored loads indicated on the design reaction schedules or as otherwise noted. Connection design calculations shall be sealed and submitted with the shop drawings for SER review.

Field modifications to steel members, including cutting, coping, drilling, adding holes, or attachments for other trades, shall be shown on shop drawings for SER review prior to fabrication or performed in the field only with written SER approval.

Baseplates and anchor rods shall be set using leveling devices, shims, or leveling nuts as indicated, with non-shrink grout placed after column plumbness is verified. Provide minimum grout thickness and bearing plate dimensions as shown on the drawings and in accordance with AISC recommendations.

Provide all miscellaneous steel items shown or implied on the drawings, including bearing plates, stiffeners, bracing gussets, deck support angles, lintels, embeds, edge angles, and miscellaneous connection plates. Coordinate with architectural and MEP drawings for any additional steel required for supported components.

Steel surfaces exposed to weather or corrosive environments shall receive galvanizing or other protective coatings as indicated on the drawings or in the specifications. Steel encased in concrete or placed below grade shall receive bituminous or other protective coatings where required.`;
    }

    function buildSectionH() {
      return `H. METAL DECK AND COLD-FORMED STEEL FRAMING

Metal roof and floor deck shall conform to the Steel Deck Institute (SDI) design manuals and the project specifications. Deck profiles, gages, and spans shall be as indicated on the drawings.

Metal deck base material shall be structural-quality sheet steel conforming to ASTM A653 with minimum G60 galvanized coating (or as specified), of the grade indicated on the drawings or in the specifications.

Deck attachment (welds, screws, or power-actuated fasteners) shall follow the spacing and pattern indicated on the drawings and shall comply with SDI recommendations for diaphragm shear and uplift resistance. Coordinate deck attachment patterns with roofing manufacturer requirements.

Provide closures, reinforcing plates, pour stops, sump pans, and other accessories as indicated on the drawings or as required to achieve a complete deck system.

Cold-formed steel framing (studs, joists, tracks, and accessories) shall conform to AISI S100 and the manufacturer‚Äôs load tables. Member sizes, gages, and spacing shall be as indicated on the drawings or by delegated design.

Bracing and bridging for cold-formed studs and joists shall be installed in accordance with the designer‚Äôs requirements and manufacturer‚Äôs published details. Do not remove temporary bracing until permanent bracing is in place and the system is stable.

Delegated cold-formed steel design (e.g., curtain wall studs, trusses, cold-formed joists) shall be performed by a Professional Engineer licensed in the project state. Calculations and shop drawings shall be submitted for SER review.`;
    }

    function buildSectionI() {
      return `I. WOOD AND MASS TIMBER FRAMING

Wood design shall conform to the National Design Specification (NDS) for Wood Construction and applicable supplements, including SDPWS for lateral systems, as adopted by the governing building code.

Dimension lumber shall be visually graded or machine stress-rated (MSR) of the species and grade indicated on the drawings or in the specifications. Engineered wood products (LVL, PSL, LSL, I-joists, glulam, CLT) shall be from manufacturers whose published design values are recognized by the adopted building code.

Moisture content and conditioning of framing lumber shall be suitable for the intended service conditions (e.g., kiln-dried for interior construction). Protect wood from prolonged exposure to weather and moisture prior to enclosure.

Fasteners (nails, screws, bolts, lag screws) shall conform to ASTM F1667 and other applicable standards. Nail sizes and spacings shall be as indicated on the drawings and/or in referenced fastening schedules in accordance with NDS and SDPWS.

Framing connectors (joist hangers, holdowns, post bases, straps, etc.) shall be as indicated on the drawings (e.g., by manufacturer and model number) or approved equals. Install connectors per the manufacturer‚Äôs published installation instructions, using specified fasteners.

Fasteners and connectors in preservative-treated lumber or exposed to the weather shall be hot-dip galvanized or stainless steel, as required for the treatment type and exposure conditions.

Built-up wood members (headers, beams, and posts) shall be nailed or bolted together in accordance with the nailing schedules on the drawings or the NDS. Provide full-depth blocking, bearing, and lateral bracing as indicated.

Prefabricated wood trusses shall be designed, detailed, fabricated, and braced in accordance with TPI/WTCA BCSI guidelines and the design loads indicated on the structural drawings. The truss manufacturer‚Äôs engineer shall provide sealed truss calculations and placement diagrams for SER review.

Permanent and temporary bracing for trusses and tall wall panels shall be installed per the truss manufacturer‚Äôs requirements, BCSI guidelines, and the structural drawings. Do not remove temporary bracing until permanent systems are complete.

Wood shear walls and diaphragms shall be sheathed, nailed, and blocked in accordance with SDPWS and the shear wall and diaphragm schedules on the drawings. Do not change sheathing type, thickness, or nailing patterns without SER approval.`;
    }

    function buildSectionJ() {
      return `J. SUBMITTALS AND DELEGATED DESIGN ITEMS

The Contractor shall submit shop drawings, product data, and engineering calculations for structural items as required by the Contract Documents and these notes. Submittals shall be reviewed by the Contractor for completeness, coordination, and compliance prior to forwarding to the SER.

Delegated design items requiring sealed calculations and drawings by a Professional Engineer licensed in the project state typically include (where applicable): structural steel connections, cold-formed steel framing systems, wood trusses, stairs and railings, pre-engineered metal buildings, proprietary anchoring systems, and other specialty structural components identified on the drawings or in the specifications.

Submittals for concrete shall include mix designs, reinforcing shop drawings, and product data for nonshrink grout and proprietary repair materials where used.

Submittals for structural steel shall include member and connection shop drawings, connection design calculations where required, coating system data, and fabrication details for stairs, handrails, and miscellaneous metals that rely on structural support.

Submittals for wood framing shall include engineered wood product data (LVL, PSL, I-joists, glulam, CLT), truss shop drawings and calculations, and hardware schedules for holdowns, straps, and connectors.

Submittals for masonry shall include unit data, prism test procedures or unit strength verification, reinforcing and grout placement details, and accessories such as ties, anchors, and joint reinforcement.

Submittals for cold-formed steel framing shall include member and connection details, bridging and bracing layouts, and design calculations where framing is delegated.

The SER‚Äôs review of submittals is for general conformance with the design intent and does not relieve the Contractor or delegated-design Professional Engineer from responsibility for the adequacy and completeness of their design.`;
    }

    function buildSectionK() {
      return `K. CONSTRUCTION LOADS, TEMPORARY CONDITIONS, AND COORDINATION

The structure shall not be loaded during construction in a manner that results in member forces or deflections exceeding those assumed in design. The Contractor shall provide shoring and temporary supports where required to accommodate construction loads, equipment, and material stockpiles.

Shoring and reshoring of concrete slabs, beams, and other elements shall be designed by the Contractor or a qualified Professional Engineer where required by the construction sequence. Do not remove shores until concrete has attained sufficient strength to support its own weight plus construction loads.

Temporary bracing for frames, walls, and other framing shall be provided and maintained by the Contractor as required to ensure stability at all stages of construction, including under wind and construction loads, until the permanent lateral-force-resisting system is complete.

Coordinate locations of expansion joints, movement joints, and slip details with architectural, mechanical, and envelope systems. Do not rigidly connect partitions, cladding, or nonstructural components where structural deflections or movements have been indicated.

Protect existing structures, utilities, and improvements from damage due to construction activities, dewatering, or changes in grade. Provide monitoring or pre-condition surveys where required by the Contract Documents.

Prior to coring, cutting, or removing portions of existing structural members or slabs, submit proposed locations and methods to the SER for review, including any required strengthening or framing modifications.`;
    }

    // NEW: L. WIND ‚Äì with localStorage override
    function buildSectionL(ctx) {
      var override = null;
      try {
        if (typeof window !== "undefined" && window.localStorage) {
          override = window.localStorage.getItem("ts_ep_wind_notes");
        }
      } catch (e) {}

      if (override && override.trim()) {
        return override;
      }

      var risk = ctx.riskCat || "[I/II/III/IV]";

      return `L. WIND DESIGN CRITERIA

Wind loads for the primary structural system and components and cladding are determined in accordance with ${ctx.asceEdition || "ASCE 7-[YEAR]"} and the adopted building code.

Ultimate design wind speed Vult = [___ mph]; corresponding nominal wind speed Vasd = [___ mph] where applicable. Exposure category = [B/C/D] based on surrounding terrain; importance / risk category = ${risk}; topographic factor Kzt = [___]; directionality factor Kd = [___]; velocity pressure exposure coefficient Kz and Kzt are taken from ASCE 7 Chapter 26.

Building enclosure classification (enclosed, partially enclosed, or open) and internal pressure coefficient GCpi are as indicated on the structural drawings. Design wind pressures for MWFRS and C&C are based on the zones, GCp values, and load combinations shown on the drawings and in the supporting wind calculations.

Where the Wind Helper tool is used, the detailed velocity pressure, zone pressures, and general notes snippet produced by that tool supersede the generic values in this section and shall be coordinated with the drawing criteria.`;
    }

    // NEW: M. SEISMIC ‚Äì with localStorage override
    function buildSectionM(ctx) {
      var override = null;
      try {
        if (typeof window !== "undefined" && window.localStorage) {
          override = window.localStorage.getItem("ts_ep_seismic_notes");
        }
      } catch (e) {}

      if (override && override.trim()) {
        return override;
      }

      var code = ctx.asceEdition || "ASCE 7-[YEAR]";

      return `M. SEISMIC DESIGN CRITERIA

Seismic loads are determined in accordance with ${code} and the adopted building code. Seismic design data, including mapped spectral accelerations SS and S1, Site Class, design spectral accelerations SDS and SD1, Seismic Design Category (SDC), and seismic importance factor Ie, are indicated on the structural drawings and/or in the code summary.

The basic seismic-force-resisting system(s), response modification factor R, deflection amplification factor Cd, and overstrength factor Œ©0 for each principal direction are selected from ASCE 7 Chapter 12 tables based on the actual material and detailing used (e.g., special steel moment frames, ordinary concentric braced frames, special reinforced shear walls, wood shear walls, etc.).

Design base shear V and seismic story forces are determined using the prescribed analysis procedure (e.g., Equivalent Lateral Force procedure, Modal Response Spectrum analysis) with appropriate period determination, vertical distribution, redundancy factor œÅ, accidental torsion, and combination of orthogonal effects where required.

Where the Seismic Helper tool is used, the detailed seismic design parameters and general notes snippet produced by that tool supersede the generic language in this section and shall be coordinated with the drawing criteria.`;
    }

    function buildNotesOutput() {
      var ctx = {
        projName: str("projName"),
        projNumber: str("projNumber"),
        codeYear: str("codeYear"),
        asceEdition: str("asceEdition"),
        riskCat: str("riskCat")
      };

      var lines = [];

      if (ctx.projName) {
        lines.push(ctx.projName.toUpperCase());
      }
      if (ctx.projNumber) {
        lines.push("Project No.: " + ctx.projNumber);
      }
      if (ctx.projName || ctx.projNumber) {
        lines.push("");
      }

      var blocks = [];

      if (document.getElementById("secA").checked) blocks.push(buildSectionA());
      if (document.getElementById("secB").checked) blocks.push(buildSectionB(ctx));
      if (document.getElementById("secC").checked) blocks.push(buildSectionC());
      if (document.getElementById("secD").checked) blocks.push(buildSectionD());
      if (document.getElementById("secE").checked) blocks.push(buildSectionE());
      if (document.getElementById("secF").checked) blocks.push(buildSectionF());
      if (document.getElementById("secG").checked) blocks.push(buildSectionG());
      if (document.getElementById("secH").checked) blocks.push(buildSectionH());
      if (document.getElementById("secI").checked) blocks.push(buildSectionI());
      if (document.getElementById("secJ").checked) blocks.push(buildSectionJ());
      if (document.getElementById("secK").checked) blocks.push(buildSectionK());
      if (document.getElementById("secL").checked) blocks.push(buildSectionL(ctx));
      if (document.getElementById("secM").checked) blocks.push(buildSectionM(ctx));

      if (blocks.length === 0) {
        lines.push("[No sections selected. Turn on at least one section above.]");
      } else {
        lines.push(blocks.join("\n\n"));
      }

      return lines.join("\n");
    }

    document.getElementById("btnBuildNotes").addEventListener("click", function () {
      var text = buildNotesOutput();
      document.getElementById("notesOutput").value = text;

      var status = document.getElementById("copyStatus");
      status.textContent = "";
      status.className = "copy-status";
    });

    document.getElementById("btnCopyNotes").addEventListener("click", function () {
      copyTextFrom("notesOutput", "copyStatus");
    });

    document.getElementById("btnSelectAll").addEventListener("click", function () {
      var checkboxes = document.querySelectorAll(".section-pill input[type='checkbox']");
      checkboxes.forEach(function (cb) { cb.checked = true; });
    });

    document.getElementById("btnClearAll").addEventListener("click", function () {
      var checkboxes = document.querySelectorAll(".section-pill input[type='checkbox']");
      checkboxes.forEach(function (cb) { cb.checked = false; });
    });
  </script>
</body>
</html>
