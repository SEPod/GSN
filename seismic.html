<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Seismic Base Shear Helper (ASCE 7)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f5f5f7;
      --card-bg: #ffffff;
      --border: #d0d0d5;
      --accent: #1f6feb;
      --accent-soft: rgba(31, 111, 235, 0.08);
      --text-main: #111827;
      --text-muted: #4b5563;
      --danger: #b91c1c;
      --radius-lg: 16px;
      --radius-md: 10px;
      --shadow-soft: 0 14px 30px rgba(15, 23, 42, 0.08);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #e5edff 0, #f5f5f7 55%);
      color: var(--text-main);
    }

    .app {
      max-width: 980px;
      margin: 0 auto;
      padding: 2.5rem 1rem 3rem;
    }

    header {
      margin-bottom: 1.75rem;
      text-align: left;
    }

    header h1 {
      margin: 0 0 0.4rem;
      font-size: 1.9rem;
      letter-spacing: 0.03em;
    }

    header p {
      margin: 0;
      color: var(--text-muted);
      max-width: 720px;
      font-size: 0.95rem;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 1.4rem 1.5rem 1.7rem;
      margin-bottom: 1.4rem;
      border: 1px solid rgba(148,163,184,0.3);
    }

    .card h2 {
      margin: 0 0 0.7rem;
      font-size: 1.2rem;
    }

    .sub {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin: 0 0 0.6rem;
    }

    .disclaimer {
      border-left: 4px solid var(--danger);
      background: #fef2f2;
      color: #7f1d1d;
      font-size: 0.9rem;
    }

    .disclaimer strong {
      display: inline-block;
      margin-bottom: 0.25rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
      gap: 0.6rem 1rem;
      margin-top: 0.4rem;
    }

    .field {
      display: flex;
      flex-direction: column;
      font-size: 0.85rem;
    }

    .field label {
      margin-bottom: 0.14rem;
      color: var(--text-muted);
    }

    .field input,
    .field select {
      padding: 0.35rem 0.45rem;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      background: #f9fafb;
      font-size: 0.85rem;
    }

    .field input:focus,
    .field select:focus {
      outline: 2px solid var(--accent);
      outline-offset: 1px;
      background: #ffffff;
    }

    .inline-radio {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      font-size: 0.8rem;
      margin-top: 0.1rem;
      color: var(--text-muted);
    }

    .inline-radio label {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      cursor: pointer;
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.65rem;
      margin-top: 0.9rem;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 0.55rem 1.15rem;
      font-size: 0.92rem;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      white-space: nowrap;
    }

    button.primary {
      background: var(--accent);
      color: #ffffff;
      box-shadow: 0 10px 18px rgba(31,111,235,0.35);
    }

    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }

    button:active {
      transform: translateY(1px);
      box-shadow: none;
    }

    textarea {
      width: 100%;
      min-height: 260px;
      font-family: "SF Mono", ui-monospace, Menlo, Consolas, monospace;
      font-size: 0.86rem;
      line-height: 1.5;
      padding: 0.9rem;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: #0f172a;
      color: #e5e7eb;
      box-shadow: inset 0 0 0 1px rgba(15,23,42,0.8);
      resize: vertical;
    }

    textarea:focus {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .copy-status {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 0.35rem;
      min-height: 1em;
    }

    .copy-status.success { color: #059669; }
    .copy-status.error { color: var(--danger); }

    footer {
      margin-top: 1rem;
      font-size: 0.8rem;
      color: var(--text-muted);
      text-align: right;
    }

    @media (max-width: 640px) {
      .app { padding-inline: 0.8rem; }
      header h1 { font-size: 1.6rem; }
      button.primary,
      button.secondary {
        flex: 1 1 auto;
        justify-content: center;
      }
    }

    /* Top navigation linking the tools */
    .top-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1.2rem;
      padding: 0.5rem 0.75rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.03);
      border: 1px solid rgba(148, 163, 184, 0.4);
    }

    .top-nav a {
      font-size: 0.85rem;
      padding: 0.35rem 0.85rem;
      border-radius: 999px;
      text-decoration: none;
      color: #111827;
      background: #ffffff;
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .top-nav a:hover {
      background: #e5edff;
      border-color: #1f6feb;
    }

    .top-nav a.current {
      background: #1f6feb;
      color: #ffffff;
      border-color: #1f6feb;
    }
  </style>
</head>
<body>
  <div class="app">
    <nav class="top-nav">
      <a href="index.html">General Notes</a>
      <a href="seismic.html" class="current">Seismic Helper</a>
      <a href="wind.html">Wind Helper</a>
    </nav>

    <header>
      <h1>Seismic Base Shear Helper (ASCE 7)</h1>
      <p>
        Quick helper for Equivalent Lateral Force (ELF) calculations using ASCE 7-10/16/22 style parameters.
        You still need to pull system values (R, C<sub>d</sub>, Œ©<sub>0</sub>, C<sub>t</sub>, x, etc.) directly from ASCE 7.
      </p>
    </header>

    <section class="card disclaimer">
      <strong>Important ‚Äì Not a design program</strong>
      <p>
        This tool is for educational and drafting convenience only. It is <u>not</u> project-specific engineering,
        does not create an Engineer-of-Record or client relationship, and is not a substitute for design, review,
        or code compliance checks by a licensed Professional Engineer familiar with the project, jurisdiction,
        and applicable codes.
      </p>
      <p>
        The Structural Engineering Podcast, its hosts, guests, and contributors assume no responsibility for the
        completeness, correctness, or application of any values produced here. By using this helper you agree you
        are solely responsible for verifying all inputs, formulas, and results against ASCE 7 and local amendments.
      </p>
    </section>

    <!-- STEP 1: PROJECT + CODE -->
    <section class="card">
      <h2>1. Project &amp; Code</h2>
      <p class="sub">Basic identifiers plus which ASCE 7 edition and risk category you‚Äôre using.</p>
      <div class="grid">
        <div class="field">
          <label for="projName">Project name</label>
          <input id="projName" type="text" placeholder="Tomlinson House" />
        </div>
        <div class="field">
          <label for="projNumber">Project number</label>
          <input id="projNumber" type="text" placeholder="P-2025-001" />
        </div>
        <div class="field">
          <label for="codeYear">Building code</label>
          <input id="codeYear" type="text" placeholder="IBC 2018, local amendments" />
        </div>
        <div class="field">
          <label for="asceEdition">ASCE 7 edition</label>
          <select id="asceEdition">
            <option value="">(select)</option>
            <option value="ASCE 7-10">ASCE 7-10</option>
            <option value="ASCE 7-16">ASCE 7-16</option>
            <option value="ASCE 7-22">ASCE 7-22</option>
          </select>
        </div>
        <div class="field">
          <label for="riskCat">Risk category</label>
          <select id="riskCat">
            <option value="">(select)</option>
            <option value="I">I</option>
            <option value="II">II</option>
            <option value="III">III</option>
            <option value="IV">IV</option>
          </select>
        </div>
        <div class="field">
          <label for="Ie">Importance factor, I<sub>e</sub></label>
          <input id="Ie" type="number" step="0.01" placeholder="1.0, 1.25, 1.5..." />
        </div>
      </div>
    </section>

    <!-- STEP 2: HAZARD PARAMETERS -->
    <section class="card">
      <h2>2. Hazard parameters</h2>
      <p class="sub">
        Enter values from your USGS / hazard report. For ASCE 7-22 you can treat SDS/SD1 as the design spectral
        accelerations S<sub>a</sub> at short period and 1-sec.
      </p>
      <div class="grid">
        <div class="field">
          <label for="siteClass">Seismic site class</label>
          <select id="siteClass">
            <option value="">(select)</option>
            <option value="Site Class A">Site Class A</option>
            <option value="Site Class B">Site Class B</option>
            <option value="Site Class BC">Site Class BC</option>
            <option value="Site Class C">Site Class C</option>
            <option value="Site Class CD">Site Class CD</option>
            <option value="Site Class D">Site Class D</option>
            <option value="Site Class DE">Site Class DE</option>
            <option value="Site Class E">Site Class E</option>
            <option value="Site Class F">Site Class F</option>
          </select>
          <div class="inline-radio">
            <label><input type="radio" name="siteBasis" value="Geotechnical report" checked /> from geotechnical report</label>
            <label><input type="radio" name="siteBasis" value="Assumed for preliminary design" /> assumed for preliminary design</label>
          </div>
        </div>
        <div class="field">
          <label for="Sds">SDS (short-period design accel, g)</label>
          <input id="Sds" type="number" step="0.001" placeholder="e.g. 0.85" />
        </div>
        <div class="field">
          <label for="Sd1">SD1 (1-sec design accel, g)</label>
          <input id="Sd1" type="number" step="0.001" placeholder="e.g. 0.42" />
        </div>
        <div class="field">
          <label for="S1">S<sub>1</sub> (mapped 1-sec MCER, g)</label>
          <input id="S1" type="number" step="0.001" placeholder="e.g. 0.7" />
        </div>
        <div class="field">
          <label for="Tl">T<sub>L</sub> (long-period transition, s)</label>
          <input id="Tl" type="number" step="0.01" placeholder="e.g. 4.0" />
        </div>
      </div>
    </section>

    <!-- STEP 3: SYSTEM -->
    <section class="card">
      <h2>3. Seismic force-resisting system</h2>
      <p class="sub">
        Describe the system and enter R, C<sub>d</sub>, and Œ©<sub>0</sub> from the appropriate ASCE 7 table
        (e.g. Table 12.2-1 / 12.2-2). Use the exact wording from the table if you like.
      </p>
      <div class="grid">
        <div class="field">
          <label for="systemName">System description (from ASCE 7 table)</label>
          <input id="systemName" type="text" placeholder="e.g. Special steel moment frame" />
        </div>
        <div class="field">
          <label for="R">R (response modification factor)</label>
          <input id="R" type="number" step="0.1" placeholder="e.g. 8" />
        </div>
        <div class="field">
          <label for="Cd">C<sub>d</sub> (deflection amplification)</label>
          <input id="Cd" type="number" step="0.1" placeholder="e.g. 5.5" />
        </div>
        <div class="field">
          <label for="Omega">Œ©<sub>0</sub> (overstrength factor)</label>
          <input id="Omega" type="number" step="0.1" placeholder="e.g. 3" />
        </div>
      </div>
    </section>

    <!-- STEP 4: BUILDING PROPERTIES -->
    <section class="card">
      <h2>4. Building properties</h2>
      <p class="sub">
        Enter height and either the fundamental period T, or C<sub>t</sub>, x, and h<sub>n</sub> to compute an
        approximate period. Weight W can be in kips, kN, etc. ‚Äì base shear comes out in the same units.
      </p>
      <div class="grid">
        <div class="field">
          <label for="hn">h<sub>n</sub> (height to roof / C.G., ft)</label>
          <input id="hn" type="number" step="0.1" placeholder="e.g. 45" />
        </div>
        <div class="field">
          <label for="T">Fundamental period, T (s)</label>
          <input id="T" type="number" step="0.01" placeholder="leave blank to compute from C‚Çú, x, h‚Çô" />
        </div>
        <div class="field">
          <label for="Ct">C<sub>t</sub> (from ASCE 7 period table)</label>
          <input id="Ct" type="number" step="0.0001" placeholder="optional" />
        </div>
        <div class="field">
          <label for="xExp">x exponent (from ASCE 7 period table)</label>
          <input id="xExp" type="number" step="0.01" placeholder="optional" />
        </div>
        <div class="field">
          <label for="W">Total seismic weight, W (kips / kN / etc.)</label>
          <input id="W" type="number" step="0.1" placeholder="e.g. 720" />
        </div>
        <div class="field">
          <label for="asdFactor">ASD factor (optional, e.g. 0.7)</label>
          <input id="asdFactor" type="number" step="0.01" placeholder="0.7" />
        </div>
      </div>

      <div class="button-row">
        <button class="primary" type="button" id="btnCalc">üìê Compute seismic values</button>
        <button class="secondary" type="button" id="btnCopyReport">üìã Copy full report</button>
        <button class="secondary" type="button" id="btnCopyNotes">üìù Copy notes snippet</button>
      </div>
    </section>

    <!-- OUTPUT: DETAILED REPORT -->
    <section class="card">
      <h2>5. Seismic design summary (calc-style)</h2>
      <p class="sub">
        Report text suitable for pasting into a calc package. Edit as needed and verify against ASCE 7.
      </p>
      <textarea id="report" readonly></textarea>
      <div id="copyStatusReport" class="copy-status" aria-live="polite"></div>
    </section>

    <!-- OUTPUT: GENERAL NOTES SNIPPET -->
    <section class="card">
      <h2>6. Seismic criteria ‚Äì general notes snippet</h2>
      <p class="sub">
        Short block intended for structural general notes. Copy/paste into your notes generator or drawing sheet and edit as required.
      </p>
      <textarea id="seismicNotes" readonly></textarea>
      <div id="copyStatusNotes" class="copy-status" aria-live="polite"></div>
    </section>

    <footer>
      Seismic Base Shear Helper ‚Äì for educational use only; verify all values against ASCE 7 and local code.
    </footer>
  </div>

  <script>
    function valNum(id) {
      var v = parseFloat(document.getElementById(id).value);
      return isNaN(v) ? null : v;
    }

    function valStr(id) {
      return (document.getElementById(id).value || "").trim();
    }

    function fmt(x, digits) {
      if (x === null || x === undefined || isNaN(x)) return "N/A";
      return x.toFixed(digits != null ? digits : 3);
    }

    function getSiteBasis() {
      var radios = document.getElementsByName("siteBasis");
      for (var i = 0; i < radios.length; i++) {
        if (radios[i].checked) return radios[i].value;
      }
      return "";
    }

    function getSeismicContext() {
      var ctx = {};

      // Project & code
      ctx.projName   = valStr("proj
